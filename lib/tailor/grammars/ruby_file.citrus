grammar RubyFile
	include RubyString

	rule file
		lines {
			def strings
				find(:string)
			end

			def style_errors
				strings.map { |s|	s.style_errors }
			end
		}
	end

	rule lines
		line* {
			def line_count
				count = 1
				count += 1 if line
			end
		}
	end

	rule line
		(string | .) &[\n]?
	end
end
